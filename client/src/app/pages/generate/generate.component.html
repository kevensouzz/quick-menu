<main>
  <section id="menus">
    <header>
      <h1>YOUR MENUS</h1>
      <svg (click)="loadUser()" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"
        fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"
        class="lucide lucide-rotate-cw">
        <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8" />
        <path d="M21 3v5h-5" />
      </svg>
    </header>

    <div *ngIf="menus.length == 0" class="not-menu">
      <h1>You haven't menus!</h1>
      <a class="no-focus" routerLink="new">Create a Menu</a>
    </div>

    <div *ngIf="menus.length > 0" class="content">
      @for (menu of menus; track $index) {
      <div class="menu">
        <span class="info">
          <p class="name">{{ menu.name }}</p>
          <p class="code">#{{ menu.code }}</p>
        </span>
        <span class="btn-group">
          <button routerLink="/scan/{{ menu.code }}" class="page no-focus">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-square-arrow-out-up-right">
              <path d="M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6" />
              <path d="m21 3-9 9" />
              <path d="M15 3h6v6" />
            </svg>
          </button>

          <button routerLink="update" class="update no-focus">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-settings">
              <path
                d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
          </button>

          <button class="delete no-focus" (click)="confirmDelete = true; selectedMenu = menu">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-trash-2">
              <path d="M3 6h18" />
              <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
              <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
              <line x1="10" x2="10" y1="11" y2="17" />
              <line x1="14" x2="14" y1="11" y2="17" />
            </svg>
          </button>
        </span>
      </div>
      }
    </div>
  </section>

  <section routerLink="new" id="new-menu">
    <div class="content">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"
        class="lucide lucide-file-plus-2">
        <path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4" />
        <path d="M14 2v4a2 2 0 0 0 2 2h4" />
        <path d="M3 15h6" />
        <path d="M6 12v6" />
      </svg>

      <h1>NEW MENU</h1>
    </div>

    <footer>
      <p *ngIf="menus.length === 0">No Registered Menu.</p>
      <p *ngIf="menus.length === 1">1 Registered Menu</p>
      <p *ngIf="menus.length > 1">{{ menus.length }} Registered Menus</p>
      <p>NEW MENU</p>
    </footer>
  </section>

  <div [style.display]="confirmDelete ? 'flex' : 'none'" class="confirm-delete">
    <div class="content">
      <p>Are you sure you want to delete <i>{{ selectedMenu?.name }}</i>?</p>
      <div class="button-group">
        <button type="button" class="delete"
          (click)="deleteMenu(selectedMenu?.menuId); confirmDelete = false; selectedMenu = null; loadUser()">DELETE!</button>
        <button type="button" class="cancel" (click)="confirmDelete = false; selectedMenu = null">CANCEL!</button>
      </div>
    </div>
  </div>

  <a id="account-link" class="no-focus" routerLink="account">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user">
      <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
      <circle cx="12" cy="7" r="4" />
    </svg>
  </a>
</main>